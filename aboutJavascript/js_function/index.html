<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Hello world</title>
</head>
<body>
    <h1>Hello world</h1>
    <div id="div">点我绑定事件</div>
    <!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>-->
    <script type="text/javascript">
//      var pdf = new jsPDF();
//      var html = "Hello world!Hello world!Hello world!Hello world!Hello world!<p>123</p>"
//      pdf.text(30, 30, 'Hello world!');
//      pdf.save('hello_world.pdf');
//		var isType = function(type){
//			return function(obj){
//				return Object.prototype.toString.call(obj) === '[object '+type+']';
//			}
//		}
//		var isString = isType('Array')([1,2,3]);
//		console.log(isString);
		
//		var Type = {};
//		
//		for (var i =0,type;type = ['String','Array','Number'][ i++ ];) {
//			(function(type){
//				Type[ 'is' + type] = function(obj){
//					return Object.prototype.toString.call(obj) === '[object '+type+']';
//				}
//			})(type)
//		};
//		
//		console.log(Type.isString([]));

//		var getSingle = function(fn){
//			var ret;
//			return function(){
//				return ret || (fn.apply(this,arguments));
//			};
//		};
//		
//		var getScript = getSingle(function(){
//			return document.createElement('script');
//		});
//		var script1 = getScript();
//		var script2 = getScript();
//		alert(script1 === script2);

//		var cost = (function(){
//			var args = [];
//			return function(){
//				if(arguments.length === 0){
//					var money = 0;
//					for(var i = 0, l = args.length; i < l;i++){
//						money += args[i];
//					}
//					return money;
//				}else{
//					[].push.apply(args,arguments);
//				}
//			}
//		})();
//		
//		cost(100);
//		cost(200);
//		cost(300);
//		console.log(cost());

//		var curring = function(fn){
//			var args = [];
//			return function(){
//				if(arguments.length === 0){
//					return fn.apply(this,args);
//				}else{
//					[].push.apply(args,arguments);
//					return arguments.callee;
//				}
//			}
//		};
//		var cost = (function(){
//			var money = 0;
//			return function(){
//				for(var i=0,l=arguments.length;i<l;i++){
//					money += arguments[i];
//				}
//				return money;
//			}
//		})();
//		
//		var cost = curring(cost);
//		cost(100);
//		cost(200);
//		cost(300);
//		alert(cost());

//		Function.prototype.uncurrying = function(){
//			var self = this;
//			return function(){
//				var obj = Array.prototype.shift.call(arguments);
//				return self.apply(obj,arguments);
//			}
//		}
		
//		var push = Array.prototype.push.uncurrying();
//		(function(){
//			push(arguments,4);
//			console.log(arguments);
//		})(1,2,3);
		
//		for(var i=0,fn,ary = ['push', 'shift', 'forEach'];fn = ary[i++];){
//			Array[ fn ] = Array.prototype[ fn ].uncurrying();
//		};
//		var obj = {
//			'length':3,
//			'0':1,
//			'1':2,
//			'2':3
//		};
//		console.log(obj);
//		Array.push(obj,4);
//		console.log(obj);
//		console.log(obj.length);
//		
//		var first = Array.shift(obj);
//		console.log(first);
//		console.log(obj);
//		Array.forEach(obj, function(i,n){
//			console.log(n);
//		});
//		
//		var call = Function.prototype.call.uncurrying();
//		var fn = function(name){
//			console.log(name);
//		};
//		call(fn, window,'sven');
//		
//		var apply = Function.prototype.apply.uncurrying();
//		var fn = function(name){
//			console.log(this.name);
//			console.log(arguments);
//		};
//		apply(fn,{name: 'sven'},[1,2,3]);

		//函数节流
//		var throttle = function(fn,interval){
//			var _self = fn,   //保存需要被延时执行的函数引用
//				timer,   //定时器
//				firstTime = true;  //是否是第一次调用
//			
//			return function(){
//				var args =arguments,
//					_me = this;
//				if(firstTime){  //如果是第一次调用，不需延迟执行
//					_self.apply(_me,args);
//					return firstTime = false;
//				}
//				
//				if(timer){   //如果定时器还在，说明前一次延迟执行还没有完成
//					return false;
//				}
//				timer = setTimeout(function(){ //延迟一段时间执行
//					clearTimeout(timer);
//					timer= null;
//					_self.apply(_me, args);
//					
//				},interval || 500);
//			};
//		};
//		
//		window.onresize = throttle(function(){
//			console.log(1);
//		},500);

//		分时函数
//		var ary = [];
//		for (var i=1;i<=1000;i++) {
//			ary.push(i);
//		}
//		var renderFriendList = function(data){
//			for (var i=0,l=data.length;i<l;i++) {
//				var div = document.createElement('div');
//				div.innerHTML = i;
//				document.body.appendChild(div);
//			}
//		};
//		renderFriendList(ary);

//		var timeChunk = function(ary, fn, count){
//			var obj,
//				t;
//			var len = ary.length;
//			var start = function(){
//				for (var i =0; i<Math.min(count || 1,ary.length);i++) {
//					var obj = ary.shift();
//					fn(obj);
//				}
//			};
//			
//			return function(){
//				t = setInterval(function(){
//					if(ary.length === 0){
//						return clearInterval(t);
//					}
//					start();
//				},200);
//			};
//		};
//		
//		var ary = [];
//		for (var i =1;i<=1000;i++) {
//			ary.push(i);
//		};
//		var rendFriendList = timeChunk(ary,function(n){
//			var div = document.createElement('div');
//			div.innerHTML = n;
//			document.body.appendChild(div);
//		},8);
//		rendFriendList();

		//懒性加载函数
//		var addEvent = function(elem, type, handler){
//			if(window.addEventListener){
//				return elem.addEventListener(type,handler,false);
//			}
//			if(window.attachEvent){
//				return elem.attachEvent('on'+type,handler);
//			}
//		};
//		var addEvent = (function(){
//			if(window.addEventListener){
//				return function(elem,type,handler){
//					elem.addEventListener(type,handler,false);
//				}
//			}
//			if(window.attachEvent){
//				return function(elem,type,handler){
//					elem.attachEvent('on'+type,handler);
//				}
//			}
//		})();

		var addEvent = function(elem,type,handler){
			if(window.addEventListener){
				addEvent = function(elem,type,handler){
					elem.addEventListener(type,handler,false);
				}
			}else if(window.attachEvent){
				addEvent = function(elem,type,handler){
					elem.attachEvent('on'+type,handler);
				}
			}
			addEvent(elem,type,handler);
		};
		
		var div = document.getElementById('div');
		addEvent(div,'click',function(){
			alert(1);
		});
		addEvent(div,'click',function(){
			alert(2);
		});
		
    </script>
</body>
