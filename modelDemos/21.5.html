<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>用TypeScript编写基于interface的命令模式</title>
	</head>
	<body>
		<button id="exeCommand">执行菜单命令</button>
	</body>
	<script>
		var RefreshMenuBarCommand = function(){};
		
		RefreshMenuBarCommand.prototype.execute = function(){
			console.log('刷新菜单界面');
		};
		
		var AddSubMenuCommand = function(){};
		
		AddSubMenuCommand.prototype.execute= function(){
			console.log('增加子菜单');
		};
		
		var DelSubMenuCommand = function(){};
		
		/**************没有实现DelSubMenuCommand.prototype.execute*************/
//		DelSubMenuCommand.prototype.execute = function(){
//			
//		};
		
		var refreshMenuBarCommand = new RefreshMenuBarCommand(),
			addSubMenuCommand = new AddSubMenuCommand(),
			delSubMenuCommand = new DelSubMenuCommand();
			
		var setCommand = function(command){
			document.getElementById('exeCommand').onclick = function(){
				if(typeof command.execute !== 'function'){
					throw new Error("command对象必须实现execute方法");
				}
				command.execute();
			}
		};
		
		setCommand(refreshMenuBarCommand);
		//点击按钮后输出：“刷新菜单界面”
		setCommand(addSubMenuCommand);
		//点击按钮后输出：“增加子菜单”
		setCommand(delSubMenuCommand);
		//点击按钮后报错
	</script>
</html>
