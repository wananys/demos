<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>js原型解析</title>
	</head>
	<style>
		.button{
			display: inline-block;
			padding: 0 16px;
			height: 24.5px;
			line-height: 24.5px;
			font-size: 13px;
			text-align: center;
			background: #f7f7f7;
			color: #007dff;
			border-radius: 15px;
		}
	</style>
	<body>
		<span class="button">领取</span>
	</body>
	<script>
		//constructor属性（始终指向创建当前对象的构造函数）
//		var arr = [1,2,3];
//		console.log(arr.constructor);
//		var a = {};
//		console.log(a.constructor);
//		var bool = false;
//		console.log(bool.constructor);
//		var name = "hello";
//		console.log(name.constructor);
//		var sayName = function(){}
//		console.log(sayName.constructor);
//		
//		//通过构造函数创建instance
//		function A(){}
//		var a= new A();
//		console.log(a.constructor);
		
		//prototype
		//prototype是每个函数对象都具有的属性，被称为原型对象。而_proto_属性才是每个对象才有的属性。
		//一旦原型对象被赋予属性或方法，那么由相应的构造函数创建的实例会继承prototype上的属性和方法。
		
//		function A(){}
//		var a = new A();
//		
//		A.prototype.name = "xl";
//		A.prototype.sayName = function(){
//			console.log(this.name);
//		}
//		
//		console.log(a.name);
//		a.sayName();
		//constructor属性和prototype属性
		//每个函数都有prototype属性,而这个prototype的constructor属性会指向这个函数。
//		function Person(name){
//			this.name = name;
//		}
//		Person.prototype.sayName = function(){
//			console.log(this.name);
//		}
//		var person = new Person('xl');
//		console.log(person.constructor);
//		console.log(Person.prototype.constructor);
//		console.log(Person.constructor);
		//当我们重写这个Person.prototype属性，那么constructor属性会发生变化
//		Person.prototype = {
//			sayName :function(){
//				console.log(this.name);
//			}
//		};
//		var personTwo = new Person('XL');
//		console.log(Person.constructor);
//		console.log(personTwo.constructor);
//		console.log(person.constructor == Person);  //true
//		console.log(personTwo.constructor == Person);//false  
		
		//prototype和_proto_
//		function Person(name){
//			this.name = name;
//		}
//		Person.prototype.sayName = function(){
//			console.log(this.name);
//		}
//		var personOne = new Person("a");
//		var personTwo = new Person('b');
//		
//		personOne.sayName();
//		personTwo.sayName();
//		
//		console.log(personOne.__proto__);
//		console.log(personOne.__proto__==Person.prototype);
//		console.log(personTwo.__proto__==Person.prototype);
//		
//		console.log(personOne.constructor==Person); //true
//	    console.log(personTwo.constructor==Person); //true
//	    console.log(Person.prototype.constructor==Person); //true
//	    
//	    console.log(Person.prototype.constructor);
//	    console.log(Person.constructor); //function Function(){}
//	    console.log(Person.__proto__.__proto__); // Object{} 

//		var decimalDigits = 2,
//			tax = 5;
//		function add(x,y){
//			return x + y;
//		}
//		function subtract(x,y){
//			return x - y;
//		}
////		alert(add(1,3));
//		
//		var Calculator = function (decimalDigits, tax){
//			this.decimalDigits = decimalDigits;
//			this.tax = tax;
//		}
////		Calculator.prototype = {
////			add: function(x,y){
////				return x + y;
////			},
////			subtract:function(x,y){
////				return x - y;
////			}
////		};
////		var result = new Calculator();
////		alert(result.add(1,3));
//
//		Calculator.prototype = function(){
//			add = function(x,y){
//				return x + y;
//			},
//			subtract = function(x,y){
//				return x - y;
//			}
//			return {
//				add : add,
//				subtract:subtract
//			}
//		}();
//  	alert((new Calculator()).add(11,3));
//
//		var BaseCalculator = function(){
//			this.decimalDigits = 2;
//		};
//		BaseCalculator.prototype.add = function(x,y){
//			return x + y;
//		};
//		BaseCalculator.prototype.subtract = function(x,y){
//			return x - y;
//		};
//		var Calculator = function(){
//			this.tax = 5;
//		};
//		Calculator.prototype = new BaseCalculator();
//		
//		var calc = new Calculator();
////		alert(calc.add(1,1));
////		alert(calc.decimalDigits);
//		
//		var Calculator = function (){
//			this.tax = 5;
//		};
//		
//		Calculator.prototype = BaseCalculator.prototype;
//		
//		var calc = new Calculator();
////		alert(calc.add(1,1));
////		alert(calc.decimalDigits);
//		
//		Calculator.prototype.add = function(x,y){
//			return x + y + this.tax;
//		};
//		var calc = new Calculator();
//		alert(calc.add(1,1));
		
//		function Foo(){
//			this.value = 42;
//		}
//		Foo.prototype = {
//			method: function(){}
//		};
//		function Bar(){}
//		
//		//设置Bar的prototype属性为Foo的实例对象
//		Bar.prototype = new Foo();
//		Bar.prototype.foo = "Hello World";
//		
//		//修正Bar.prototype.cunstructor为Bar本身
//		Bar.prototype.constructor = Bar;
//		
//		var test = new Bar();  //创建Bar的一个新实例
//		
//		//原型链
		
		//属性查找
//		function foo(){
//			this.add = function(x,y){
//				return x + y;
//			}
//		}
//		
//		foo.prototype.add = function(x,y){
//			return x + y + 10;
//		}
//		Object.prototype.subtract = function(x,y){
//			return x - y;
//		}
//		var f = new foo();
//		alert(f.add(1,2));
//		alert(f.subtract(1,2));

//		Object.prototype.bar = 1;
//		var foo = {goo:undefined};
//		
//		foo.bar;
//		'bar' in foo;
//		
//		foo.hasOwnProperty('bar');
//		foo.hasOwnProperty('goo');

//		var foo = {
//			hasOwnproperty:function(){
//				return false;
//			},
//			bar: 'Here be dragons'
//		};
//		
//		foo.hasOwnproperty('bar');
//		
//		{}.hasOwnProperty.call(foo,'bar');

//		Object.prototype.bar = 1;
//		
//		var foo = {moo:2};
//		for(var i in foo){
//			console.log(i);
//		}
//		
//		for (var i in foo) {
//			if(foo.hasOwnProperty(i)){
//				console.log(i);
//			}
//		}
//		

		var obj = {
			bar: 1,
			foo: 2,
			baz: 3
		};
		obj.bar = undefined;
		obj.foo = null;
		delete obj.baz;
		
		for (var i in obj) {
			if(obj.hasOwnProperty(i)){
				console.log(i, ''+obj[i]);
			}
		}
		
		
		
	</script>
</html>

